# –ü–ª–∞–Ω —Ñ–∏—á–∏: F011-C ‚Äî Web UI Advanced Parameters

**Feature ID**: F011-C
**Feature Name**: web-ui-advanced-params
**Title**: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: System Prompt –∏ JSON Response
**–î–∞—Ç–∞**: 2026-01-15
**–ê–≤—Ç–æ—Ä**: AI Agent (Architect)
**–°—Ç–∞—Ç—É—Å**: Draft (–æ–∂–∏–¥–∞–µ—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)

---

## 1. –û–±–∑–æ—Ä

### 1.1 –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (index.html) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `system_prompt` –∏ `response_format` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –∫ AI –º–æ–¥–µ–ª—è–º.

**–¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏–π**: Frontend-only (pure UI extension)

### 1.2 –°–≤—è–∑—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

| –§–∏—á–∞ | –°—Ç–∞—Ç—É—Å | –°–≤—è–∑—å |
|------|--------|-------|
| **F002** (web-ui) | DEPLOYED | –†–∞—Å—à–∏—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π index.html |
| **F011-B** (backend) | QA_PASSED | Backend —É–∂–µ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏—ë–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –¢–æ–ª—å–∫–æ frontend-–∏–∑–º–µ–Ω–µ–Ω–∏—è, backend API —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (F011-B).

### 1.3 Scope –≥—Ä–∞–Ω–∏—Ü—ã

**IN SCOPE**:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ textarea –¥–ª—è system_prompt
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ radio buttons –¥–ª—è response_format
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ sendPrompt() –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- Client-side –≤–∞–ª–∏–¥–∞—Ü–∏—è (5000 —Å–∏–º–≤–æ–ª–æ–≤)

**OUT OF SCOPE**:
- Telegram Bot (—è–≤–Ω–æ –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
- Backend API (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ F011-B)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è system prompts

---

## 2. –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### 2.1 –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏—è | –¢–∏–ø |
|------|--------|-----------|-----|
| `services/free-ai-selector-business-api/app/static/index.html` | 428 | +~50 —Å—Ç—Ä–æ–∫ | Modify |

**–ò—Ç–æ–≥–æ**: 1 —Ñ–∞–π–ª, ~12% —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞.

### 2.2 –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 2.2.1 HTML Structure (—Å—Ç—Ä–æ–∫–∏ 213-218)

**–¢–µ–∫—É—â–µ–µ**:
```html
<div id="chat" class="tab-pane active">
    <textarea id="prompt-input" placeholder="..." rows="4"></textarea>
    <button id="send-btn" ...>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>
```

**–¢–æ—á–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –º–µ–∂–¥—É prompt-input –∏ send-btn:
- `<textarea id="system-prompt-input">` (–Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç)
- `<div class="format-selector">` (–Ω–æ–≤—ã–π –±–ª–æ–∫)

#### 2.2.2 JavaScript sendPrompt() (—Å—Ç—Ä–æ–∫–∏ 327-346)

**–¢–µ–∫—É—â–∏–π payload**:
```javascript
body: JSON.stringify({ prompt })
```

**–¢–æ—á–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –†–∞—Å—à–∏—Ä–∏—Ç—å payload –¥–æ:
```javascript
body: JSON.stringify({
    prompt,
    system_prompt?: string,      // –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
    response_format?: {type: "json_object"}  // –µ—Å–ª–∏ JSON –≤—ã–±—Ä–∞–Ω
})
```

#### 2.2.3 CSS Styles (—Å—Ç—Ä–æ–∫–∏ 65-78)

**–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ `textarea` –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫ –Ω–æ–≤–æ–º—É textarea.

**–¢–æ—á–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã:
- `.format-selector` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä radio buttons
- `.format-label` ‚Äî label –¥–ª—è –≥—Ä—É–ø–ø—ã
- `.radio-group` ‚Äî flex-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–¥–∏–æ
- `.radio-option` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π radio button —Å label

### 2.3 –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|-------------|---------------|-----------|
| `apiCall()` (—Å—Ç—Ä–æ–∫–∞ 294) | HTTP helper | ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `show()`, `hide()` (—Å—Ç—Ä–æ–∫–∏ 304-305) | UI helpers | ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| CSS Variables (—Å—Ç—Ä–æ–∫–∏ 10-22) | –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞ | ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º |
| `API_BASE` (—Å—Ç—Ä–æ–∫–∞ 284) | Base path –¥–ª—è nginx-proxy | ‚úÖ –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## 3. –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3.1 –ù–æ–≤—ã–µ HTML-—ç–ª–µ–º–µ–Ω—Ç—ã

| –≠–ª–µ–º–µ–Ω—Ç | ID/Class | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|--------------|----------|
| `<textarea>` | `id="system-prompt-input"` | –ü–æ—Å–ª–µ prompt-input | –î–ª—è system_prompt (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `<div>` | `class="format-selector"` | –ü–æ—Å–ª–µ system-prompt-input | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è radio buttons |
| `<label>` | `class="format-label"` | –í–Ω—É—Ç—Ä–∏ format-selector | "–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:" |
| `<div>` | `class="radio-group"` | –í–Ω—É—Ç—Ä–∏ format-selector | Flex-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–¥–∏–æ |
| `<label>` x2 | `class="radio-option"` | –í–Ω—É—Ç—Ä–∏ radio-group | "–¢–µ–∫—Å—Ç" –∏ "JSON" –æ–ø—Ü–∏–∏ |
| `<input>` x2 | `type="radio" name="response-format"` | –í–Ω—É—Ç—Ä–∏ radio-option | –¢–µ–∫—Å—Ç (checked) / JSON |

**–ò—Ç–æ–≥–æ**: +6 –Ω–æ–≤—ã—Ö DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤.

### 3.2 –ù–æ–≤—ã–µ CSS-–∫–ª–∞—Å—Å—ã

| –ö–ª–∞—Å—Å | –°–≤–æ–π—Å—Ç–≤–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|----------|------------|
| `.format-selector` | `margin-bottom: 16px` | –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É |
| `.format-label` | `display: block; font-size: 14px; font-weight: 500; color: var(--text-light); margin-bottom: 8px` | –°—Ç–∏–ª—å label |
| `.radio-group` | `display: flex; gap: 16px` | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π layout —Ä–∞–¥–∏–æ |
| `.radio-option` | `display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 15px` | –†–∞–¥–∏–æ + label |
| `.radio-option input` | `cursor: pointer` | Cursor –¥–ª—è radio input |

**–ò—Ç–æ–≥–æ**: +5 –Ω–æ–≤—ã—Ö CSS-–∫–ª–∞—Å—Å–æ–≤ (~15 —Å—Ç—Ä–æ–∫ CSS).

### 3.3 –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ JavaScript

#### 3.3.1 –§—É–Ω–∫—Ü–∏—è sendPrompt() (—Å—Ç—Ä–æ–∫–∏ 327-346)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:

```javascript
async function sendPrompt() {
    const input = document.getElementById('prompt-input');
    const systemPromptInput = document.getElementById('system-prompt-input');  // NEW
    const formatRadios = document.getElementsByName('response-format');       // NEW

    const prompt = input.value.trim();
    if (!prompt) { showError(errorBox, '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞'); return; }

    // NEW: –°–æ–±—Ä–∞—Ç—å payload
    const payload = { prompt };

    // NEW: –î–æ–±–∞–≤–∏—Ç—å system_prompt –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
    const systemPrompt = systemPromptInput.value.trim();
    if (systemPrompt) {
        if (systemPrompt.length > 5000) {  // –í–∞–ª–∏–¥–∞—Ü–∏—è
            showError(errorBox, 'System prompt –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å 5000 —Å–∏–º–≤–æ–ª–æ–≤');
            return;
        }
        payload.system_prompt = systemPrompt;
    }

    // NEW: –î–æ–±–∞–≤–∏—Ç—å response_format –µ—Å–ª–∏ JSON –≤—ã–±—Ä–∞–Ω
    const selectedFormat = Array.from(formatRadios).find(r => r.checked)?.value;
    if (selectedFormat === 'json') {
        payload.response_format = { type: "json_object" };
    }

    // MODIFIED: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π payload
    const data = await apiCall('/api/v1/prompts/process', {
        method: 'POST',
        body: JSON.stringify(payload)  // ‚Üê –ë—ã–ª —Ç–æ–ª—å–∫–æ { prompt }
    });

    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
}
```

**–ò–∑–º–µ–Ω–µ–Ω–æ**:
- +3 —Å—Ç—Ä–æ–∫–∏ (–ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- +12 —Å—Ç—Ä–æ–∫ (—Å–±–æ—Ä–∫–∞ payload)
- ~1 —Å—Ç—Ä–æ–∫–∞ (payload –≤–º–µ—Å—Ç–æ { prompt })

**–ò—Ç–æ–≥–æ**: +~16 —Å—Ç—Ä–æ–∫ JavaScript.

### 3.4 –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ù–ï–¢**. –ü—Ä–æ–µ–∫—Ç vanilla JavaScript, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç npm-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

---

## 4. API –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã

### 4.1 Backend API (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω F011-B)

**Endpoint**: `POST /api/v1/prompts/process`

**Request (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π)**:
```typescript
interface ProcessPromptRequest {
    prompt: string;                    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
    system_prompt?: string;            // NEW: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ, max 5000
    response_format?: {                // NEW: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
        type: "json_object"
    };
}
```

**Response (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)**:
```json
{
  "response": "AI –æ—Ç–≤–µ—Ç...",
  "selected_model": "gemini-2.0-flash-exp",
  "provider": "GoogleGemini",
  "response_time_seconds": 1.23
}
```

**Errors**:
- `422`: Validation error (e.g., system_prompt > 5000)
- `400`: Bad request
- `500`: Internal server error

### 4.2 Frontend ‚Üí Backend –∫–æ–Ω—Ç—Ä–∞–∫—Ç

| –°—Ü–µ–Ω–∞—Ä–∏–π | Payload | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|---------|-----------|
| –¢–æ–ª—å–∫–æ prompt | `{prompt: "..."}` | Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç defaults (no system_prompt, text format) |
| Prompt + system_prompt | `{prompt: "...", system_prompt: "..."}` | Backend –ø–µ—Ä–µ–¥–∞—ë—Ç system_prompt –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É |
| Prompt + JSON format | `{prompt: "...", response_format: {type: "json_object"}}` | Backend –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç JSON –æ—Ç–≤–µ—Ç |
| –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | `{prompt: "...", system_prompt: "...", response_format: {...}}` | Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ |

**Backward compatibility**: ‚úÖ Backend –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ `{prompt}` –±–µ–∑ –æ—à–∏–±–æ–∫ (F011-B).

---

## 5. –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã

### 5.1 Frontend —Ç–µ—Å—Ç—ã

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –ù–µ—Ç E2E —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—Ä–æ–µ–∫—Ç –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö UI-—Ç–µ—Å—Ç–æ–≤).

### 5.2 Backend —Ç–µ—Å—Ç—ã (F011-B)

**–°—Ç–∞—Ç—É—Å**: ‚úÖ 14/14 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (F011-B QA report).

**–í–ª–∏—è–Ω–∏–µ**: –ù–ï–¢ (backend —Ç–µ—Å—Ç—ã —É–∂–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã).

### 5.3 Manual QA

**–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏):
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å prompt –ë–ï–ó –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å prompt + system_prompt ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ AI —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å prompt + JSON format ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—Ç–≤–µ—Ç –≤ JSON
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å prompt + system_prompt + JSON format ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
5. –í–≤–µ—Å—Ç–∏ 5001 —Å–∏–º–≤–æ–ª –≤ system_prompt ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å mobile responsive (radio buttons –Ω–µ –ª–æ–º–∞—é—Ç—Å—è –Ω–∞ —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö)

---

## 6. –ü–ª–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 6.1 –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| # | –®–∞–≥ | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –í—Ä–µ–º—è |
|---|-----|------|--------|-------------|-------|
| 1 | –î–æ–±–∞–≤–∏—Ç—å HTML: textarea –¥–ª—è system_prompt | index.html | –ü–æ—Å–ª–µ 214 | ‚Äî | 2 –º–∏–Ω |
| 2 | –î–æ–±–∞–≤–∏—Ç—å HTML: radio buttons –¥–ª—è format | index.html | –ü–æ—Å–ª–µ —à–∞–≥–∞ 1 | ‚Äî | 3 –º–∏–Ω |
| 3 | –î–æ–±–∞–≤–∏—Ç—å CSS: —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | index.html | –ü–æ—Å–ª–µ 78 | ‚Äî | 3 –º–∏–Ω |
| 4 | –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å JS: —Ä–∞—Å—à–∏—Ä–∏—Ç—å sendPrompt() | index.html | 327-346 | –®–∞–≥ 1-2 | 5 –º–∏–Ω |
| 5 | –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é: 5000 —Å–∏–º–≤–æ–ª–æ–≤ | index.html | –í–Ω—É—Ç—Ä–∏ sendPrompt() | –®–∞–≥ 4 | 2 –º–∏–Ω |
| 6 | Manual QA: 6 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ | Browser | ‚Äî | Backend F011-B | 10 –º–∏–Ω |

**–ò—Ç–æ–≥–æ**: ~25 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).

### 6.2 –ü–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
1. HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ (—à–∞–≥–∏ 1-2)
   ‚Üì
2. CSS-—Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è (—à–∞–≥ 3)
   ‚Üì
3. JavaScript-–ª–æ–≥–∏–∫–∞ (—à–∞–≥–∏ 4-5)
   ‚Üì
4. Manual QA (—à–∞–≥ 6)
```

**–ü—Ä–∏–Ω—Ü–∏–ø**: –°–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (markup ‚Üí styles ‚Üí behavior).

### 6.3 Rollback –ø–ª–∞–Ω

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫:

```bash
# 1. –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ index.html
git checkout HEAD -- services/free-ai-selector-business-api/app/static/index.html

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker compose restart free-ai-selector-business-api

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:8000/
```

**–†–∏—Å–∫ –æ—Ç–∫–∞—Ç–∞**: LOW (–∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ frontend, backend –æ—Å—Ç–∞—ë—Ç—Å—è —Ä–∞–±–æ—á–∏–º).

---

## 7. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### 7.1 –¢–∞–±–ª–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤

| ID | –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|----|------|-------------|---------|-----------|--------|
| R1 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç >5000 —Å–∏–º–≤–æ–ª–æ–≤ –≤ system_prompt | MEDIUM | LOW | Client-side –≤–∞–ª–∏–¥–∞—Ü–∏—è + `maxlength="5000"` –∞—Ç—Ä–∏–±—É—Ç | ‚úÖ –ó–∞–ª–æ–∂–µ–Ω–∞ –≤ –ø–ª–∞–Ω |
| R2 | JSON response format –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (AI –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON) | LOW | MEDIUM | Backend F011-B —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É | ‚úÖ Backend –≥–æ—Ç–æ–≤ |
| R3 | UI –∑–∞–≥—Ä–æ–º–æ–∂–¥—ë–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ | LOW | LOW | –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω, system_prompt —Å placeholder "–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ" | ‚úÖ –î–∏–∑–∞–π–Ω —É—Ç–≤–µ—Ä–∂–¥—ë–Ω |
| R4 | Mobile responsive —Å–ª–æ–º–∞–Ω | LOW | MEDIUM | –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ media queries (—Å—Ç—Ä–æ–∫–∏ 188-197) –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ QA |
| R5 | Backward compatibility –Ω–∞—Ä—É—à–µ–Ω–∞ | NONE | ‚Äî | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –Ω–∞ backend, —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ Backend –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç |

### 7.2 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –ë–ª–æ–∫–µ—Ä? | –î–µ–π—Å—Ç–≤–∏–µ |
|-------------|--------|---------|----------|
| F011-B (Backend API) | QA_PASSED | –ù–ï–¢ | ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ |
| F002 (Web UI) | DEPLOYED | –ù–ï–¢ | ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ |
| Browser compatibility | 96%+ | –ù–ï–¢ | ‚úÖ ES6 + CSS Variables –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è |

**–í—ã–≤–æ–¥**: –ù–µ—Ç –±–ª–æ–∫–µ—Ä–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## 8. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (YAGNI check)

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–ª–∞–Ω–∞ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º PRD:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ PRD | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|-----------|----------------|-------------|
| `<textarea id="system-prompt-input">` | FR-001 | System Prompt UI element |
| `maxlength="5000"` | FR-002 | Client-side validation |
| `<div class="format-selector">` | FR-003 | Response Format selector |
| Radio buttons ("–¢–µ–∫—Å—Ç", "JSON") | FR-004 | Default=Text, optional=JSON |
| `payload.system_prompt` | FR-005 | API integration |
| `payload.response_format` | FR-005 | API integration |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ sendPrompt() | FR-002, FR-006 | Prevent errors, backward compat |
| CSS `.format-selector` –∏ –¥—Ä. | FR-010 | UI consistency |

**–õ–∏—à–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: –ù–ï–¢. –í—Å—ë –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

---

## 9. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### 9.1 –ß—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ö–∞–∫ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º |
|-----------|----------|-------------------|
| –°—Ç–∏–ª–∏ textarea | index.html:65-78 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∫ –Ω–æ–≤–æ–º—É textarea |
| CSS Variables | index.html:10-22 | `--primary`, `--border`, `--text-light` –¥–ª—è radio |
| `apiCall()` —Ñ—É–Ω–∫—Ü–∏—è | index.html:294 | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π payload |
| `show()`, `hide()` | index.html:304-305 | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è error handling |
| Media queries | index.html:188-197 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã |

### 9.2 –ß—Ç–æ –ù–ï –¥—É–±–ª–∏—Ä—É–µ–º

| –î—É–±–ª–∏–∫–∞—Ç | –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è |
|----------|-------------------|
| –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `sendPromptAdvanced()` | ‚ùå –†–∞—Å—à–∏—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é `sendPrompt()` |
| –û—Ç–¥–µ–ª—å–Ω—ã–π CSS-—Ñ–∞–π–ª | ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ–º inline CSS –∫–∞–∫ –≤ —Ç–µ–∫—É—â–µ–º index.html |
| –ù–æ–≤—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä-–º–æ–¥—É–ª—å | ‚ùå –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è `if (length > 5000)` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ |

---

## 10. Quality Cascade Checklist (16/16)

### QC-1: DRY (Don't Repeat Yourself) ‚úÖ

- [x] –ü–ª–∞–Ω —Å–≤–µ—Ä–µ–Ω —Å Research Report (—Å–µ–∫—Ü–∏—è 5.2 "CSS-—Å—Ç–∏–ª–∏")
- [x] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ `textarea`
- [x] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º CSS Variables
- [x] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º `apiCall()`, `show()`, `hide()`
- [x] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ù–æ–≤—ã–π textarea –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ (—Å—Ç—Ä–æ–∫–∏ 65-78). CSS Variables (`--primary`, `--border`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è radio buttons. –§—É–Ω–∫—Ü–∏—è `apiCall()` —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ payload, –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è.

---

### QC-2: KISS (Keep It Simple, Stupid) ‚úÖ

- [x] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤: 0 (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º 1 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
- [x] –ò–µ—Ä–∞—Ä—Ö–∏—è: –ø–ª–æ—Å–∫–∞—è (–Ω–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [x] –ù–µ—Ç –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- [x] –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–æ—Å–Ω–æ–≤–∞–Ω

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å 2 —ç–ª–µ–º–µ–Ω—Ç–∞ (textarea + radio) –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å 1 —Ñ—É–Ω–∫—Ü–∏—é. –ù–µ —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏, –∫–ª–∞—Å—Å—ã –∏–ª–∏ —Ñ–∞–π–ª—ã. –û—Ç–≤–µ—Ç –Ω–∞ "–ø–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø—Ä–æ—â–µ?": –Ω–µ–ª—å–∑—è, —ç—Ç–æ –º–∏–Ω–∏–º—É–º –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.

---

### QC-3: YAGNI (You Aren't Gonna Need It) ‚úÖ

- [x] –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é PRD (—Ç–∞–±–ª–∏—Ü–∞ –≤ —Å–µ–∫—Ü–∏–∏ 8)
- [x] –ù–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ "–¥–ª—è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏"
- [x] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è)
- [x] –ù–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ —Å–µ–∫—Ü–∏–∏ 3 –∏–º–µ—é—Ç –ø—Ä—è–º—É—é —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É –≤ PRD FR-001 –¥–æ FR-010. –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º dropdown –¥–ª—è –±—É–¥—É—â–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤, –Ω–µ –¥–µ–ª–∞–µ–º —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤.

---

### QC-4: SRP (Single Responsibility Principle) ‚úÖ

- [x] `system-prompt-input` ‚Äî —Ç–æ–ª—å–∫–æ –≤–≤–æ–¥ system prompt
- [x] `format-selector` ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞
- [x] `sendPrompt()` ‚Äî —Å–±–æ—Ä–∫–∞ payload –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∞, –Ω–æ SRP —Å–æ—Ö—Ä–∞–Ω—ë–Ω)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:

| –ú–æ–¥—É–ª—å/–≠–ª–µ–º–µ–Ω—Ç | –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å |
|----------------|------------------------------|
| `<textarea id="system-prompt-input">` | –í–≤–æ–¥ system_prompt –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `<div class="format-selector">` | –í—ã–±–æ—Ä response_format (text/json) |
| `sendPrompt()` | –°–±–æ—Ä–∫–∞ payload –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ backend |
| –í–∞–ª–∏–¥–∞—Ü–∏—è `if (length > 5000)` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è system_prompt |

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –æ–¥–Ω—É —á—ë—Ç–∫—É—é —Ä–æ–ª—å.

---

### QC-5: OCP (Open/Closed Principle) ‚úÖ

- [x] –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã: payload –≤ sendPrompt()
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω–µ –º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ (—Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç)
- [x] Backend API —Ä–∞—Å—à–∏—Ä–µ–Ω –±–µ–∑ breaking changes (F011-B)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `temperature`, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:
1. –î–æ–±–∞–≤–∏—Ç—å `<input>` –≤ HTML
2. –î–æ–±–∞–≤–∏—Ç—å `payload.temperature = ...` –≤ sendPrompt()
3. Backend —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (Pydantic schema)

–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.

---

### QC-6: ISP (Interface Segregation Principle) ‚úÖ

- [x] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ProcessPromptRequest` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
- [x] `system_prompt` –∏ `response_format` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- [x] –ö–ª–∏–µ–Ω—Ç—ã (frontend) –∑–∞–≤–∏—Å—è—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: Backend API –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç frontend –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏—à–Ω–∏–µ –ø–æ–ª—è. –ï—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω system_prompt ‚Äî –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ JSON format –±–µ–∑ system_prompt ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ `{prompt, response_format}`.

---

### QC-7: DIP (Dependency Inversion Principle) ‚úÖ

- [x] Frontend –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ API (`ProcessPromptRequest`), –Ω–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [x] Backend –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è frontend

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `POST /api/v1/prompts/process` —Å payload. Backend –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É Groq, Cerebras, SambaNova ‚Äî frontend –Ω–µ –∑–Ω–∞–µ—Ç –æ–± —ç—Ç–æ–º. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (HTTP API), –Ω–µ –æ—Ç –¥–µ—Ç–∞–ª–µ–π.

---

### QC-8: SoC (Separation of Concerns) ‚úÖ

- [x] HTML ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–∞–∑–º–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- [x] CSS ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (—Å—Ç–∏–ª–∏)
- [x] JavaScript ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏)
- [x] Backend ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏, –≤—ã–∑–æ–≤ AI)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:

| –°–ª–æ–π | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å |
|------|-----------------|
| HTML (—Å—Ç—Ä–æ–∫–∏ 213+) | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ DOM, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ |
| CSS (—Å—Ç—Ä–æ–∫–∏ 65+) | –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, layout |
| JavaScript (sendPrompt) | –°–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–∞–ª–∏–¥–∞—Ü–∏—è, HTTP-–∑–∞–ø—Ä–æ—Å |
| Backend API | –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏, –≤—ã–∑–æ–≤ AI, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ |

–°–ª–æ–∏ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è: –Ω–µ—Ç inline styles, –Ω–µ—Ç business-–ª–æ–≥–∏–∫–∏ –≤ JS.

---

### QC-9: SSoT (Single Source of Truth) ‚úÖ

- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è 5000 —Å–∏–º–≤–æ–ª–æ–≤: –∫–ª–∏–µ–Ω—Ç (UX) + backend (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [x] –ö–æ–Ω—Ç—Ä–∞–∫—Ç API –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ F011-B (backend Pydantic schema)
- [x] CSS Variables –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (`:root`, —Å—Ç—Ä–æ–∫–∏ 10-22)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: SSOT –¥–ª—è —Ç–∏–ø–æ–≤ ‚Äî backend Pydantic schema (`ProcessPromptRequest`). Frontend –¥—É–±–ª–∏—Ä—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è UX, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã. –ï—Å–ª–∏ backend –∏–∑–º–µ–Ω–∏—Ç –ª–∏–º–∏—Ç –Ω–∞ 10000, frontend –æ–±–Ω–æ–≤–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏ –∞—Ç—Ä–∏–±—É—Ç `maxlength`.

---

### QC-10: LoD (Law of Demeter) ‚úÖ

- [x] Frontend –æ–±—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ API endpoint, –Ω–µ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º backend
- [x] sendPrompt() –Ω–µ –∑–Ω–∞–µ—Ç –∫–∞–∫ backend –≤—ã–±–∏—Ä–∞–µ—Ç –º–æ–¥–µ–ª—å
- [x] –ù–µ—Ç —Ü–µ–ø–æ—á–µ–∫ –≤—ã–∑–æ–≤–æ–≤ `a.b.c.d`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: Frontend ‚Üí `POST /api/v1/prompts/process`. Frontend –Ω–µ –∑–Ω–∞–µ—Ç –æ `ProcessPromptUseCase`, `ModelRepository`, AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ HTTP API.

---

### QC-11: CoC (Convention over Configuration) ‚úÖ

- [x] –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: `system-prompt-input` (kebab-case –¥–ª—è HTML IDs)
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤: inline CSS/JS –∫–∞–∫ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º index.html
- [x] –°—Ç–∏–ª–∏ —Å–ª–µ–¥—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º: `var(--primary)`, `margin-bottom: 16px`
- [x] –§—É–Ω–∫—Ü–∏–∏ —Å–ª–µ–¥—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º: `async function sendPrompt()`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω–≤–µ–Ω—Ü–∏—è–º –∏–∑ F002:
- HTML IDs: kebab-case (`prompt-input`, `system-prompt-input`)
- CSS –∫–ª–∞—Å—Å—ã: kebab-case (`.format-selector`, `.radio-group`)
- JavaScript: camelCase (`systemPromptInput`, `selectedFormat`)

---

### QC-12: Fail Fast ‚úÖ

- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ —Å–∏—Å—Ç–µ–º—ã (sendPrompt, –ø–µ—Ä–µ–¥ API call)
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ–≥–æ prompt (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã system_prompt (–Ω–æ–≤–∞—è)
- [x] Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è (Pydantic –≤ F011-B)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:

| –¢–æ—á–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|-----------------|----------|----------|
| Client JS (—Å—Ç—Ä–æ–∫–∞ 335) | `if (!prompt)` | –û—à–∏–±–∫–∞ "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞" |
| Client JS (–Ω–æ–≤–∞—è) | `if (systemPrompt.length > 5000)` | –û—à–∏–±–∫–∞ "–ù–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å 5000 —Å–∏–º–≤–æ–ª–æ–≤" |
| Backend Pydantic | `system_prompt: str = Field(max_length=5000)` | HTTP 422 Validation Error |

–ü–∞–¥–∞–µ–º —Ä–∞–Ω–æ, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ backend.

---

### QC-13: Explicit > Implicit ‚úÖ

- [x] API –∫–æ–Ω—Ç—Ä–∞–∫—Ç —è–≤–Ω–æ –æ–ø–∏—Å–∞–Ω (—Å–µ–∫—Ü–∏—è 4.1)
- [x] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã (F011-B backend)
- [x] –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Å–µ–∫—Ü–∏—è 4.2)
- [x] –ù–µ—Ç –º–∞–≥–∏–∏, –≤—Å—ë –≤ –∫–æ–¥–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:
- –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º `payload.system_prompt = systemPrompt` (–Ω–µ —á–µ—Ä–µ–∑ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –Ø–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (systemPrompt)` –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ payload
- –Ø–≤–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `{type: "json_object"}` (–Ω–µ —á–µ—Ä–µ–∑ string "json")

---

### QC-14: Composition > Inheritance ‚úÖ

- [x] –ù–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (vanilla JS, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å—ã)
- [x] –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —á–µ—Ä–µ–∑ DOM: textarea + radio + button
- [x] –§—É–Ω–∫—Ü–∏–∏ –∫–æ–º–ø–æ–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã: sendPrompt() ‚Üí apiCall()

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –Ω–µ—Ç –û–û–ü-–∏–µ—Ä–∞—Ä—Ö–∏–π. –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–º–ø–æ–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ DOM, —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã. –ï—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∫–ª–∞—Å—Å—ã, –ø—Ä–µ–¥–ø–æ—á–ª–∏ –±—ã –∫–æ–º–ø–æ–∑–∏—Ü–∏—é:
```javascript
// GOOD: Composition
class FormSubmitter {
  constructor(validator, apiClient) { ... }
}
// BAD: Inheritance
class FormSubmitter extends BaseSubmitter { ... }
```

---

### QC-15: Testability ‚úÖ

- [x] sendPrompt() –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ mock apiCall()
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ (–º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ)
- [x] DOM-—ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ IDs (–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ç–µ—Å—Ç–∞—Ö)
- [x] Manual QA –ø–ª–∞–Ω –æ–ø—Ä–µ–¥–µ–ª—ë–Ω (—Å–µ–∫—Ü–∏—è 5.3)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å |
|-----------|-----------------|
| sendPrompt() | Mock `apiCall()`, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å payload |
| –í–∞–ª–∏–¥–∞—Ü–∏—è 5000 —Å–∏–º–≤–æ–ª–æ–≤ | –ü–µ—Ä–µ–¥–∞—Ç—å 5001 —Å–∏–º–≤–æ–ª, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫—É |
| Radio buttons | –í—ã–±—Ä–∞—Ç—å JSON, –≤—ã–∑–≤–∞—Ç—å sendPrompt(), –ø—Ä–æ–≤–µ—Ä–∏—Ç—å payload.response_format |
| Backward compat | –ù–µ –∑–∞–ø–æ–ª–Ω—è—Ç—å system_prompt, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `{prompt}` |

–ï—Å–ª–∏ –±—ã –¥–æ–±–∞–≤–ª—è–ª–∏ E2E —Ç–µ—Å—Ç—ã (out of scope), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±—ã Playwright/Puppeteer.

---

### QC-16: Security ‚úÖ

- [x] –ì—Ä–∞–Ω–∏—Ü—ã –¥–æ–≤–µ—Ä–∏—è: Client ‚Üí Backend API (–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –æ–±–æ–∏—Ö)
- [x] XSS –∑–∞—â–∏—Ç–∞: `escapeHtml()` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Å—Ç—Ä–æ–∫–∞ 309)
- [x] Input validation: maxlength + JS –ø—Ä–æ–≤–µ—Ä–∫–∞
- [x] Backend Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è (F011-B)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**:

| Security –º–µ—Ä–∞ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------------|------------|
| XSS prevention | `escapeHtml()` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ response (—Å—Ç—Ä–æ–∫–∞ 342) |
| Input validation | Client: maxlength + JS; Backend: Pydantic max_length |
| CSRF protection | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (stateless API –±–µ–∑ cookies) |
| SQL injection | –ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ (–Ω–µ—Ç DB queries –≤ frontend) |
| Secrets exposure | –ù–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ frontend |

Sensitive data (API keys) —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ backend, –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ frontend.

---

## 11. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è–º

### 11.1 –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

| –¢–∏–ø | –ö–æ–Ω–≤–µ–Ω—Ü–∏—è | –ü—Ä–∏–º–µ—Ä—ã |
|-----|-----------|---------|
| HTML IDs | kebab-case | `system-prompt-input`, `format-selector` |
| CSS –∫–ª–∞—Å—Å—ã | kebab-case | `.format-selector`, `.radio-group`, `.radio-option` |
| JavaScript –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | camelCase | `systemPromptInput`, `selectedFormat`, `formatRadios` |
| –§—É–Ω–∫—Ü–∏–∏ | camelCase | `sendPrompt()`, `apiCall()`, `showError()` |

### 11.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

- **Inline CSS/JS**: –°–ª–µ–¥—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É (index.html —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)
- **CSS Variables**: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `var(--primary)`, `var(--border)`
- **Spacing**: `margin-bottom: 16px` (–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏)
- **Naming**: `id="...-input"` –¥–ª—è inputs (–ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ `prompt-input`)

---

## 12. –§–∏–Ω–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 12.1 Summary

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | 1 |
| –°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ | ~50 |
| –°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ | ~1 |
| –ù–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | 0 |
| –ù–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | 6 (DOM elements) |
| –ù–æ–≤—ã—Ö CSS –∫–ª–∞—Å—Å–æ–≤ | 5 |
| –†–∏—Å–∫–∏ | 5 (–≤—Å–µ LOW/NONE) |
| –í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | ~25 –º–∏–Ω—É—Ç |
| –ë–ª–æ–∫–µ—Ä–æ–≤ | 0 |

### 12.2 –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [x] PRD_READY (F011-C)
- [x] RESEARCH_DONE (F011-C)
- [x] Backend –≥–æ—Ç–æ–≤ (F011-B QA_PASSED)
- [x] –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)
- [x] Quality Cascade (16/16) –ø—Ä–æ–π–¥–µ–Ω
- [x] –†–∏—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∏ –∑–∞–º–∏—Ç–∏–≥–∏—Ä–æ–≤–∞–Ω—ã
- [ ] **–ü–ª–∞–Ω —É—Ç–≤–µ—Ä–∂–¥—ë–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º** ‚Üê –¢–†–ï–ë–£–ï–¢–°–Ø

---

## 13. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### 13.1 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Free AI Selector                                        ‚îÇ
‚îÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ª—É—á—à–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π AI –º–æ–¥–µ–ª–∏        ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ [–ß–∞—Ç] [–†–µ–π—Ç–∏–Ω–≥] [–¢–µ—Å—Ç]                                  ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å –∫ AI...                        ‚îÇ   ‚îÇ
‚îÇ ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ ‚îÇ System prompt (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                       ‚îÇ   ‚îÇ ‚Üê NEW
‚îÇ ‚îÇ                                                   ‚îÇ   ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:  ‚¶ø –¢–µ–∫—Å—Ç   ‚óã JSON                       ‚îÇ ‚Üê NEW
‚îÇ                                                         ‚îÇ
‚îÇ [ –û—Ç–ø—Ä–∞–≤–∏—Ç—å ]                                           ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ ‚îÇ üè∑ gemini-2.0-flash-exp  GoogleGemini  1.23—Å    ‚îÇ     ‚îÇ
‚îÇ ‚îÇ                                                 ‚îÇ     ‚îÇ
‚îÇ ‚îÇ AI –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å...                               ‚îÇ     ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 13.2 –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 1**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç system prompt

1. –í–≤–æ–¥–∏—Ç –≤ Prompt: "Explain quantum computing"
2. –í–≤–æ–¥–∏—Ç –≤ System Prompt: "You are a physics professor explaining to a 10-year-old"
3. –û—Å—Ç–∞–≤–ª—è–µ—Ç Format: "–¢–µ–∫—Å—Ç" (default)
4. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

**–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è**:
```json
{
  "prompt": "Explain quantum computing",
  "system_prompt": "You are a physics professor explaining to a 10-year-old"
}
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç JSON

1. –í–≤–æ–¥–∏—Ç –≤ Prompt: "List 3 benefits of AI"
2. –û—Å—Ç–∞–≤–ª—è–µ—Ç System Prompt –ø—É—Å—Ç—ã–º
3. –í—ã–±–∏—Ä–∞–µ—Ç Format: "JSON"
4. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

**–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è**:
```json
{
  "prompt": "List 3 benefits of AI",
  "response_format": {"type": "json_object"}
}
```

---

## 14. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 14.1 –ü–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞–Ω–∞

1. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: `/aidd-generate`
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Å–µ–∫—Ü–∏–∏ 3
   - –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–∫—É –∏–∑ —Å–µ–∫—Ü–∏–∏ 6.1

2. **Code Review**: `/aidd-review`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Quality Cascade —Å–æ–±–ª—é–¥—ë–Ω
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–ª–∞–Ω—É

3. **QA**: `/aidd-test`
   - –í—ã–ø–æ–ª–Ω–∏—Ç—å Manual QA (—Å–µ–∫—Ü–∏—è 5.3)
   - –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

4. **Deploy**: `/aidd-validate` ‚Üí `/aidd-deploy`
   - Final checks
   - Rebuild Docker image
   - Deploy to VPS

### 14.2 –ö—Ä–∏—Ç–µ—Ä–∏–∏ acceptance

–ü–ª–∞–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –µ—Å–ª–∏:

- [ ] –í—Å–µ HTML —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–µ–∫—Ü–∏–∏ 3.1
- [ ] –í—Å–µ CSS —Å—Ç–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–µ–∫—Ü–∏–∏ 3.2
- [ ] sendPrompt() –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ —Å–µ–∫—Ü–∏–∏ 3.3.1
- [ ] Client-side –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (5000 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] Backward compatibility —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (—Å—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç)
- [ ] Manual QA: 6/6 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –±–∞–≥–æ–≤ –Ω–∞ mobile (responsive)

---

**–ü–æ–¥–ø–∏—Å—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞**: AI Agent (Architect)
**–í–æ—Ä–æ—Ç–∞**: –û–∂–∏–¥–∞–µ—Ç PLAN_APPROVED
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2026-01-15

---

## üö® –¢–†–ï–ë–£–ï–¢–°–Ø –£–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

–ü–ª–∞–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≥–æ—Ç–æ–≤. –î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∞—à–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.

**–ß—Ç–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–æ**:
- ‚úèÔ∏è 1 —Ñ–∞–π–ª: `index.html` (~50 —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ)
- ‚ûï 6 –Ω–æ–≤—ã—Ö DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ûï 5 –Ω–æ–≤—ã—Ö CSS-–∫–ª–∞—Å—Å–æ–≤
- ‚úèÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `sendPrompt()`

**–ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è**:
1. –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω (textarea + 2 radio buttons)
2. Client-side –≤–∞–ª–∏–¥–∞—Ü–∏—è (5000 —Å–∏–º–≤–æ–ª–æ–≤)
3. Backward compatible (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)
4. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∏–ª–µ–π

**–†–∏—Å–∫–∏**: LOW (–≤—Å–µ –∑–∞–º–∏—Ç–∏–≥–∏—Ä–æ–≤–∞–Ω—ã, –±–ª–æ–∫–µ—Ä–æ–≤ –Ω–µ—Ç)

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: ~25 –º–∏–Ω—É—Ç

**–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–ª–∞–Ω –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.**

