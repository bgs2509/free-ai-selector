---
feature_id: "F020"
feature_name: "web-model-selection-stage1"
title: "Web UI: –≤—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π AI –º–æ–¥–µ–ª–∏ (Stage 1) ‚Äî Research"
created: "2026-02-13"
author: "AI (Researcher)"
type: "research"
status: "RESEARCH_DONE"
version: 1
mode: "FEATURE"

related_features: [F002, F011-C, F019]
services: [free-ai-selector-business-api]
prd_ref: "_analysis/2026-02-13_F020_web-model-selection-stage1.md"
findings_count: 14
---

# Research Report: F020 ‚Äî Web UI –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ (Stage 1)

**Feature ID**: F020  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: 2026-02-13  
**–ê–≤—Ç–æ—Ä**: AI Agent (Researcher)  
**–°—Ç–∞—Ç—É—Å**: RESEARCH_DONE

---

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

- –¶–µ–ª—å: –¥–æ–±–∞–≤–∏—Ç—å –≤ Web UI –≤—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
- Scope: —Ç–æ–ª—å–∫–æ Web (`index.html`), –±–µ–∑ Telegram –∏ –±–µ–∑ user settings.
- –ö–ª—é—á–µ–≤—ã–µ UX-—É—Å–ª–æ–≤–∏—è:
  - —Ñ–∏–ª—å—Ç—Ä –º–æ–¥–µ–ª–µ–π: `is_active=true` –∏ `reliability_score > 0.4`;
  - –≤ –æ–ø—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å score —á–∏—Å–ª–æ–º (–ø—Ä–∏–º–µ—Ä `0.90`);
  - –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏, UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `–ê–≤—Ç–æ`.

---

## 2. –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

### 2.1 –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Web UI

- –§–æ—Ä–º–∞ —á–∞—Ç–∞: `services/free-ai-selector-business-api/app/static/index.html:218`.
- –í `sendPrompt()` payload –±–µ–∑ `model_id`: `services/free-ai-selector-business-api/app/static/index.html:361`.
- Advanced params —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω—ã (`system_prompt`, `response_format`): `services/free-ai-selector-business-api/app/static/index.html:364`.
- –ï—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ `/api/v1/models/stats` –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ: `services/free-ai-selector-business-api/app/static/index.html:401`.

–í—ã–≤–æ–¥: UI —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—á—Ç–∏ –≤—Å–µ –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã (fetch, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ä–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞), –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –±–µ–∑ —Å–º–µ–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

### 2.2 –ö–æ–Ω—Ç—Ä–∞–∫—Ç API –¥–ª—è —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π

- –ü–æ–ª—è `id`, `name`, `provider`, `reliability_score`, `is_active` –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `AIModelStatsResponse`: `services/free-ai-selector-business-api/app/api/v1/schemas.py:59`.
- Endpoint `/api/v1/models/stats` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏, –≤–∫–ª—é—á–∞—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ (`active_only=False`): `services/free-ai-selector-business-api/app/api/v1/models.py:45`.

–í—ã–≤–æ–¥: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è `is_active=true` –∏ `reliability_score > 0.4` –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.

### 2.3 –ö–æ–Ω—Ç—Ä–∞–∫—Ç API –¥–ª—è prompt processing

- `model_id` —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ `ProcessPromptRequest`: `services/free-ai-selector-business-api/app/api/v1/schemas.py:20`.
- Forced-first + fallback —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã: `services/free-ai-selector-business-api/app/application/use_cases/process_prompt.py:137`.

–í—ã–≤–æ–¥: backend-–∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è Stage 1 –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.

### 2.4 –í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å –ø–æ —Å—Ç–∞—Ç–∏–∫–µ

- –§–∞–π–ª `services/free-ai-selector-business-api/app/static/app.js` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ `index.html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç inline JS –∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç `app.js`.
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—á–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `index.html`.

–í—ã–≤–æ–¥: –≤—Å–µ –ø—Ä–∞–≤–∫–∏ Stage 1 –¥–æ–ª–∂–Ω—ã –≤–Ω–æ—Å–∏—Ç—å—Å—è –≤ `services/free-ai-selector-business-api/app/static/index.html`.

---

## 3. –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### 3.1 HTML

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —á–∞—Ç-–±–ª–æ–∫:
1. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–∞: `–ê–≤—Ç–æ` / `–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è`.
2. `select` –¥–ª—è –º–æ–¥–µ–ª–µ–π (–≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –≤ manual —Ä–µ–∂–∏–º–µ).
3. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—à–∏–±–æ–∫ manual-—Ä–µ–∂–∏–º–∞.

### 3.2 JavaScript

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
1. `MANUAL_MODEL_MIN_SCORE = 0.4` (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞).
2. `loadManualModelOptions()`:
   - GET `/api/v1/models/stats`;
   - —Ñ–∏–ª—å—Ç—Ä `is_active && reliability_score > 0.4`;
   - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ score desc;
   - —Ä–µ–Ω–¥–µ—Ä label —Å score: `name (provider) ‚Äî score: 0.90`.
3. `setAutoModeWithError(message)`:
   - –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É;
   - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å UI –≤ `–ê–≤—Ç–æ`;
   - —Å–∫—Ä—ã—Ç—å/–æ—á–∏—Å—Ç–∏—Ç—å manual select.
4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `sendPrompt()`:
   - –≤ `manual` –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `model_id`;
   - –≤ `auto` –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å `model_id`.

### 3.3 CSS

–î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –º–æ–¥–µ–ª–∏; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–∞–ª–∏—Ç—Ä—É –∏ –º–æ–±–∏–ª—å–Ω—ã–π `@media`-–ø–∞—Ç—Ç–µ—Ä–Ω.

---

## 4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–ª—å–∑—è.
2. –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã Web UI.
3. –ù–µ–ª—å–∑—è –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å `system_prompt`/`response_format`.
4. –ù–µ–ª—å–∑—è –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É prompt –ø—Ä–∏ –æ—à–∏–±–∫–µ manual-—Å–ø–∏—Å–∫–∞: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ fallback UI –≤ `–ê–≤—Ç–æ`.

---

## 5. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏

| # | –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|---|---|---|---|---|
| 1 | –ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞ `>0.4` —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç | Medium | Medium | –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É + –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ `–ê–≤—Ç–æ` |
| 2 | –û—à–∏–±–∫–∞ `/api/v1/models/stats` | Medium | Medium | –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É + –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ `–ê–≤—Ç–æ` |
| 3 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–π–º—ë—Ç —Å–º–µ–Ω—É —Ä–µ–∂–∏–º–∞ | Medium | Low | –Ø–≤–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏: "–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –≤ –ê–≤—Ç–æ" |
| 4 | –ü—Ä–∞–≤–∫–∏ —É–π–¥—É—Ç –≤ `app.js`, –Ω–æ –Ω–µ –≤ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π runtime | Medium | High | –ò–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ `index.html` |

---

## 6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞ (/aidd-plan-feature)

1. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ: `services/free-ai-selector-business-api/app/static/index.html`.
2. –í–≤–µ—Å—Ç–∏ –µ–¥–∏–Ω—ã–π helper –¥–ª—è –æ—à–∏–±–æ–∫ manual-—Ä–µ–∂–∏–º–∞ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –≤ `–ê–≤—Ç–æ`.
3. –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è score: `toFixed(2)`.
4. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å smoke-checklist –∏–∑ PRD –∫–∞–∫ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## 7. Test Gaps (–¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ smoke-—Å—Ü–µ–Ω–∞—Ä–∏–∏:
- `–ê–≤—Ç–æ` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –±–µ–∑ `model_id`.
- `–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å —Å `model_id`.
- –í —Å–ø–∏—Å–∫–µ —Ç–æ–ª—å–∫–æ `is_active=true` –∏ `reliability_score > 0.4`.
- –û–ø—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç score –≤ —á–∏—Å–ª–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä `0.90`).
- –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ -> –æ—à–∏–±–∫–∞ + –∞–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –≤ `–ê–≤—Ç–æ`.
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ -> –æ—à–∏–±–∫–∞ + –∞–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –≤ `–ê–≤—Ç–æ`.
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `system_prompt`/`response_format`.

---

## 8. Quality Cascade Checklist (7/7)

### QC-1 DRY ‚úÖ
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `apiCall()` –∏ `/api/v1/models/stats`.
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π error-box –ø–∞—Ç—Ç–µ—Ä–Ω.

### QC-2 KISS ‚úÖ
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ UI, –æ–¥–∏–Ω —Ñ–∞–π–ª.
- –ë–µ–∑ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤/—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

### QC-3 YAGNI ‚úÖ
- Telegram –∏ Settings –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏.
- –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è API.

### QC-4 SoC ‚úÖ
- UI-–ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ UI —Å–ª–æ–µ.
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞/—Ñ–æ–ª–±—ç–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ backend (F019).

### QC-5 SSoT ‚úÖ
- –ò—Å—Ç–æ—á–Ω–∏–∫ model stats: `/api/v1/models/stats`.
- –ò—Å—Ç–æ—á–Ω–∏–∫ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏: `ProcessPromptUseCase`.

### QC-6 CoC ‚úÖ
- –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–º—É —Å—Ç–∏–ª—é vanilla JS/CSS –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### QC-7 Security ‚úÖ
- –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è.
- –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ UI.

---

## 9. –ß–µ–∫–ª–∏—Å—Ç –≤–æ—Ä–æ—Ç RESEARCH_DONE

- [x] üî¥ Research –æ—Ç—á—ë—Ç —Å–æ–∑–¥–∞–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ: `ai-docs/docs/_research/2026-02-13_F020_web-model-selection-stage1.md`
- [x] üî¥ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- [x] üî¥ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [ ] üî¥ `.pipeline-state.json` –æ–±–Ω–æ–≤–ª—ë–Ω (gate: RESEARCH_DONE)
- [x] üü° –†–∏—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- [x] üü° –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω—ã

---

## 10. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

```bash
/aidd-plan-feature
```
